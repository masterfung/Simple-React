<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Payment Calculator</title>
  <meta name="description" content="Payment Calculator">
  <meta name="author" content="@masterfung | Tsung Hung">

  <link rel="stylesheet" href="./css/bootstrap.min.css">

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

</head>

<body>

  <div id="app">

  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react-with-addons.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.8.0/lodash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.2/moment-with-locales.min.js"></script>

  <script type='text/jsx'>

    var Payment = React.createClass({
      render: function() {
        return (
          <input
            {...this.props}
            type="text"
            className="form-control"
            placeholder="Enter a value" />
        )
      }
    })

    var App = React.createClass({
      mixins: [React.addons.LinkedStateMixin],
      getInitialState: function() {
          return {
            firstPayment: 0,
            secondPayment: 0
          }
      },

      render: function() {
        var total = (parseFloat(this.state.firstPayment) + parseFloat(this.state.secondPayment)).toFixed(2);

        return (
          <div className="col-md-6 col-md-offset-3">
            <h1 className="text-center">Welcome to Simple Payment Calculator</h1>
            <h3 className='text-center'>Work by Tsung Hung | <a href="https://github.com/masterfung/Simple-React">@masterfung</a></h3>
            <p className='text-center'>Works only with integers</p>
            <div className="col-md-3 col-md-offset-3">
              <Payment valueLink={this.linkState('firstPayment')} />
              <Payment valueLink={this.linkState('secondPayment')}/>
            </div>
            <h2>Total is: ${total}</h2>
          </div>
        )
      }
    })

    var renderComponent = React.render(
      <App />,
      document.getElementById('app')
    )

  </script>
</body>
</html>
